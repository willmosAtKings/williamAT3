<!-- templates/profile/preferences.html -->
{% extends "profile/profile_base.html" %}
{% block title %}Preferences{% endblock %}
{% set active_tab = 'preferences' %}

{% block content %}
  <div class="profile-card">
    <h1>Preferences</h1>
    <p>Manage your notification settings and customize your calendar experience by selecting tags relevant to you.</p>
    
    <hr style="margin: 2rem 0;">

    <h2>My Calendar Tags</h2>
    <p>Select tags that apply to you. You will see events on your calendar that match these tags.</p>

    <div id="user-current-tags" data-current-tags="{{ current_tags }}"></div>

    <div class="form-group">
      <label>Your Tags</label>
      <div class="mega-menu-container">
        <div id="tag-selector-button" class="tag-selector-button">
          <span>Select Your Tags...</span>
          <i class="arrow down"></i>
        </div>
        <div id="mega-menu-dropdown" class="mega-menu-dropdown"></div>
        <input type="hidden" id="selected-tags-input">
      </div>
      <div id="selected-tags-display" class="selected-tags-display"></div>
    </div>

    <button id="saveTagsBtn" class="save-button">Save My Tags</button>
  </div>
{% endblock %}

{% block scripts %}
  <script src="/static/js/preferences.js"></script>
{% endblock %}
